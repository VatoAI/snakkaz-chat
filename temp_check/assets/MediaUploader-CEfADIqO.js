import{j as r,c as S,b as y}from"./vendor-ui-DJT7aDMV.js";import{r as i}from"./vendor-react-CkjGjP8g.js";import{t as V,c as _,ax as A,ab as B,X as D}from"./vendor-utils-BiRAyoyP.js";import{B as b}from"./button-DFN2cwgL.js";import{c as L}from"./index-DqZGoT8B.js";import"./vendor-supabase-0rZ8WFOd.js";function F(...e){return V(_(e))}const O={colors:{border:{medium:"border-cybergold-500/30"}}};var p="Progress",v=100,[T,ee]=S(p),[z,G]=T(p),P=i.forwardRef((e,s)=>{const{__scopeProgress:n,value:t=null,max:a,getValueLabel:m=U,...c}=e;(a||a===0)&&!N(a)&&console.error(X(`${a}`,"Progress"));const o=N(a)?a:v;t!==null&&!j(t,o)&&console.error(q(`${t}`,"Progress"));const l=j(t,o)?t:null,d=x(l)?m(l,o):void 0;return r.jsx(z,{scope:n,value:l,max:o,children:r.jsx(y.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":x(l)?l:void 0,"aria-valuetext":d,role:"progressbar","data-state":k(l,o),"data-value":l??void 0,"data-max":o,...c,ref:s})})});P.displayName=p;var w="ProgressIndicator",$=i.forwardRef((e,s)=>{const{__scopeProgress:n,...t}=e,a=G(w,n);return r.jsx(y.div,{"data-state":k(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...t,ref:s})});$.displayName=w;function U(e,s){return`${Math.round(e/s*100)}%`}function k(e,s){return e==null?"indeterminate":e===s?"complete":"loading"}function x(e){return typeof e=="number"}function N(e){return x(e)&&!isNaN(e)&&e>0}function j(e,s){return x(e)&&!isNaN(e)&&e<=s&&e>=0}function X(e,s){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${v}\`.`}function q(e,s){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${v} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var C=P,H=$;const I=i.forwardRef(({className:e,value:s,...n},t)=>r.jsx(C,{ref:t,className:L("relative h-4 w-full overflow-hidden rounded-full bg-cyberdark-950/60 border border-gray-700",e),...n,children:r.jsx(H,{className:"h-full transition-all duration-300 ease-out",style:{width:`${s||0}%`,background:"linear-gradient(90deg, #1a9dff 0%, #3b82f6 50%, #e60000 100%)",boxShadow:"0 0 15px rgba(26,157,255,0.4), 0 0 15px rgba(230,0,0,0.4)"}})}));I.displayName=C.displayName;const re=({onFileSelect:e,onCancel:s,selectedFile:n,isUploading:t=!1,maxSizeMB:a=5,buttonText:m="Velg fil",uploadProgress:c=0,isMobile:o=!1})=>{const l=i.useRef(null),[d,g]=i.useState(null),R=u=>{var h;const f=(h=u.target.files)==null?void 0:h[0];if(!f)return;const M=a*1024*1024;if(f.size>M){g(`Filen er for stor. Maksimal størrelse er ${a}MB.`);return}g(null),e(f)},E=()=>{var u;(u=l.current)==null||u.click()};return r.jsxs("div",{className:"w-full",children:[r.jsx("input",{type:"file",ref:l,onChange:R,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.txt",className:"hidden"}),n?r.jsxs("div",{className:"border border-dashed rounded-md p-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-sm text-cybergold-300 truncate max-w-[250px]",children:n.name}),r.jsxs("div",{className:"text-xs text-cybergold-500",children:[(n.size/(1024*1024)).toFixed(2),"MB"]})]}),!t&&r.jsx(b,{variant:"ghost",size:"icon",onClick:s,className:`h-6 w-6 text-cybergold-400 hover:text-cybergold-300 ${o?"mobile-touch-target":""}`,children:r.jsx(D,{className:"h-4 w-4"})})]}),t&&r.jsxs("div",{className:"space-y-1",children:[r.jsx(I,{value:c,className:"h-1"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-cybergold-400",children:"Laster opp..."}),r.jsxs("span",{className:"text-xs text-cybergold-400",children:[c,"%"]})]})]})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsxs(b,{onClick:E,variant:"outline",className:F("w-full flex items-center justify-center gap-2 py-6",o&&"mobile-touch-target",O.colors.border.medium,"bg-cyberdark-800 hover:bg-cyberdark-700"),children:[r.jsx(A,{className:`${o?"w-6 h-6":"w-5 h-5"} text-cybergold-400`}),r.jsx("span",{className:"text-cybergold-400",children:m})]}),d&&r.jsxs("div",{className:"mt-2 text-red-400 text-sm flex items-center gap-1",children:[r.jsx(B,{className:"w-4 h-4"}),d]}),r.jsxs("p",{className:"mt-2 text-xs text-cybergold-500",children:["Støttede formater: bilder, video, lyd, PDF og dokumenter. Maks ",a,"MB."]})]})]})};export{re as MediaUploader};
