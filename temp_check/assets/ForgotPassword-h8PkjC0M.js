import{j as e}from"./vendor-ui-DJT7aDMV.js";import{r as a,L as p}from"./vendor-react-CkjGjP8g.js";import{u as h,z as d}from"./vendor-forms-D9wFpGa4.js";import{A as j,a as u,F as f,b as k,c as y,d as N,e as v,f as w,t as S}from"./alert-DOF9wRG0.js";import{a as C,f as F}from"./index-DqZGoT8B.js";import{B as m}from"./button-DFN2cwgL.js";import{I as L}from"./input-DGCO0cLz.js";import{C as E,a as A,b as I,d as M,c as z,e as P}from"./card-BRsmtwOm.js";import{ab as T,h as B,ac as D}from"./vendor-utils-BiRAyoyP.js";import"./label-DyFGaCKG.js";import"./vendor-supabase-0rZ8WFOd.js";const V=d.object({email:d.string().email({message:"Vennligst oppgi en gyldig e-postadresse."})}),Y=()=>{const{toast:x}=C(),[o,l]=a.useState(null),[n,i]=a.useState(!1),[g,c]=a.useState(!1),t=h({resolver:S(V),defaultValues:{email:""}}),b=async r=>{i(!0),l(null);try{const{error:s}=await F.auth.resetPasswordForEmail(r.email,{redirectTo:window.location.origin+"/reset-password"});if(s)throw s;c(!0),x({title:"E-post sendt",description:"Sjekk e-posten din for instruksjoner om å tilbakestille passordet."})}catch(s){console.error("Password reset error:",s),l(s.message||"Kunne ikke sende e-post for tilbakestilling av passord. Prøv igjen senere.")}finally{i(!1)}};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-cyberdark-950",children:e.jsxs("div",{className:"w-full max-w-md px-4",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:"/logos/snakkaz-gold.svg",alt:"Snakkaz Logo",className:"h-16 w-auto",onError:r=>{const s=r.target;s.onerror=null,s.src="/logos/snakkaz-gold.png"}})}),e.jsxs(E,{className:"border-cybergold-600/20 bg-cyberdark-900",children:[e.jsxs(A,{className:"space-y-1",children:[e.jsx(I,{className:"text-center text-2xl font-bold text-cybergold-400",children:"Glemt passord"}),e.jsx(M,{className:"text-center text-cybergold-600",children:"Skriv inn e-postadressen din for å tilbakestille passordet"})]}),e.jsxs(z,{children:[o&&e.jsxs(j,{variant:"destructive",className:"mb-4 bg-red-900/40 border-red-800",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx(u,{children:o})]}),g?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-900/20 mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-xl font-medium text-cybergold-300 mb-2",children:"E-post sendt"}),e.jsx("p",{className:"text-cybergold-500 mb-4",children:"Sjekk innboksen din for instruksjoner om hvordan du tilbakestiller passordet ditt. Sjekk også søppelpost hvis du ikke finner e-posten."}),e.jsx(m,{onClick:()=>c(!1),variant:"outline",className:"border-cybergold-600 text-cybergold-300 hover:bg-cyberdark-800",children:"Send på nytt"})]}):e.jsx(f,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(b),className:"space-y-4",children:[e.jsx(k,{control:t.control,name:"email",render:({field:r})=>e.jsxs(y,{children:[e.jsx(N,{className:"text-cybergold-300",children:"E-post"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-3 h-4 w-4 text-cybergold-500"}),e.jsx(v,{children:e.jsx(L,{placeholder:"din.epost@eksempel.no",className:"pl-10 bg-cyberdark-800 border-cyberdark-700 text-cybergold-200",...r})})]}),e.jsx(w,{className:"text-red-400"})]})}),e.jsx(m,{type:"submit",className:"w-full bg-cybergold-600 text-black hover:bg-cybergold-500",disabled:n,children:n?"Sender...":"Send tilbakestillingslenke"})]})})]}),e.jsx(P,{className:"flex justify-center",children:e.jsxs(p,{to:"/",className:"inline-flex items-center text-cybergold-500 hover:text-cybergold-400 transition-colors",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Tilbake til innlogging"]})})]})]})})};export{Y as default};
